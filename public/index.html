<!DOCTYPE html>
<html>

<head>
<script>
const obtieneProducto = async (id) => {
    const response = await fetch(`http://localhost:8000/precio/${id}.json`);
    if (response.ok) {
        const producto = await response.json();
        return producto;
    } else {
        const errmsg = await response.json();
        alert(`codigo: ${errmsg.codigo}\nmensaje: ${errmsg.mensaje}`);
        return null;
    }
}
const onClickBtn= async (e) => {
    alert("presionado");
}
const onKeyupDes1 = async (e) => {
    if(e.key === "Enter") {
        e.preventDefault();
        btn.focus();
    }
}
const onKeyupDes2 = async (e) => {
    if(e.key === "Enter") {
        e.preventDefault();
        des3.focus();
    }
}
const onKeyupDes3 = async (e) => {
    if(e.key === "Enter" || e.key === "Tab") {
        e.preventDefault();
        des1.focus();
    }
}
const funcion = async (valor) => {
    const producto = await obtieneProducto(valor);
    if (producto)
        alert(producto.nombre);
    des2.focus();
}
const onLoadCrea = (e) => {
    des1.addEventListener("keydown", onKeyupDes1);
    des2.addEventListener("keydown", onKeyupDes2);
    des3.addEventListener("keydown", onKeyupDes3);
    btn.addEventListener("click", onClickBtn);

    des1.tabIndex = 10;
    des2.tabIndex = 20;
    des3.tabIndex = 30;
    btn.tabIndex = 40;

    des1.focus();
}
document.readyState === "complete" ? 
    onLoadCrea() : addEventListener("load", onLoadCrea);
</script>
</head>

<body>
    <input id="des1" type="text"/>
    <input id="des2" type="text"/>
    <input id="des3" type="text"/>
    <button type="button" id="btn">boton</button>
</body>

</html>
